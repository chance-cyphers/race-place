import 'package:race_place/auth/parser.dart';
import 'package:test/test.dart';

void main() {
  var idToken =
      "eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik56YzJNekpETWpZM00wSXlOVU5GUVRneVFqQTJPRFZCTURjNVJVRXhOa1JHUVVGRVFrTkJOQSJ9.eyJuaWNrbmFtZSI6InRlc3QiLCJuYW1lIjoidGVzdEB0ZXN0LmNvbSIsInBpY3R1cmUiOiJodHRwczovL3MuZ3JhdmF0YXIuY29tL2F2YXRhci9iNjQyYjQyMTdiMzRiMWU4ZDNiZDkxNWZjNjVjNDQ1Mj9zPTQ4MCZyPXBnJmQ9aHR0cHMlM0ElMkYlMkZjZG4uYXV0aDAuY29tJTJGYXZhdGFycyUyRnRlLnBuZyIsInVwZGF0ZWRfYXQiOiIyMDE5LTAxLTMwVDIyOjUzOjMxLjIzM1oiLCJlbWFpbCI6InRlc3RAdGVzdC5jb20iLCJlbWFpbF92ZXJpZmllZCI6ZmFsc2UsImlzcyI6Imh0dHBzOi8vc2t5ZnJvZy5hdXRoMC5jb20vIiwic3ViIjoiYXV0aDB8NWM1MWViOGVhZmViODY3ZTU4YzI3NGI2IiwiYXVkIjoiUmw4c0lnQnpTNWtMcUdVWVZIU3VpdlhKZG5xd0dQMm0iLCJpYXQiOjE1NDg4ODg4MTEsImV4cCI6MTU0ODkyNDgxMX0.BeFWWpw3ncAPWO0IBF1D29UtvWLUtL06-dl2ZV7kWQpOR_7LVC3XdoA4Hk1Co-ktKQLSIvHHFNTTlCfWW1dS-khSzDBVi7NYlEDLpAS_GujsFVVf6VmqWbfwoZygJ0UapKBIUqAJ9KM0yAbcDj5cBZ-8qRo7tj1s9MnRGNVWD5GTkDTDTlEQXALaTJixyV0Ai6uaImjjJstikS583LKjQCEEiFiEvj50XC1UAP6AAf6xDuwgrwupdBONxReXZADvjb3p4LPSeWU7qCNBEjvHx_tLsnRHlT1EPmTmvZ13VddXuuKinBz4FQ48bt71OmWrQanlwlmVKrxEftQJuIHm-g";

  test('Parses name from id jwt', () {
    var name = getName(idToken);
    expect(name, equals("test@test.com"));
  });
}
